<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<!-- On utilise le jsf même dans les balise avec le h:head au lieu de head -->
<!-- <h:head>
	<title>Ajout voiture</title>
</h:head>
<h:body>
-->

<ui:composition template="template.xhtml">
	<ui:define name="titre">#{msg['titre.saisie.voiture']}</ui:define>
	<ui:define name="titre body">#{msg['titre.saisie.voiture']}</ui:define>
	<ui:define name="body">
		<h:form>

			<table>

				<tr>
					<!-- label pour afficher le nom -->
					<td><h:outputLabel for="marque"
							value="#{msg['voiture.marque']} : " /></td>
					<td><h:inputText id="marque"
							value="#{voitureMB.voiture.marque}" required="true"
							label="#{msg['voiture.marque']}">
							<!-- label="#{msg['voiture.marque']}" permet de modifier l'id de l'erreur-->

							<f:validateLength minimum="2" />
						</h:inputText> <!--Permet d'afficher le message d'erreur --> <h:message
							for="marque" /></td>
				</tr>
				<tr>
					<td><h:outputLabel for="modele"
							value="#{msg['voiture.modele']} : " /></td>
					<td><h:inputText id="modele"
							value="#{voitureMB.voiture.modele}" required="true"
							label="#{msg['voiture.modele']}">

							<f:validateLength minimum="1" />
						</h:inputText> <h:message for="modele" /></td>
				</tr>
				<tr>
					<td><h:outputLabel for="dateMiseEnCirculation"
							value="#{msg['voiture.date']} : " /></td>
					<td><h:inputText id="dateMiseEnCirculation"
							value="#{voitureMB.voiture.dateMiseEnCirculation}"
							required="true"
							validator="#{voitureMB.validateDateMiseEnCirculation}"
							label="#{msg['voiture.date']}">
							<!-- Format de la date que l'on veut passer -->
							<f:convertDateTime pattern="dd/MM/yyyy" />

						</h:inputText> <h:message for="dateMiseEnCirculation" /></td>
				</tr>
				<tr>
					<!-- Action est d'appeler la methode addUser de l'objet userMB -->
					<td><h:commandButton id="addVoiture"
							value="#{msg['bouton.ajout']}" action="#{voitureMB.addVoiture}"
							ajax="false" styleClass="btn btn-success" /></td>
					<!-- Action est d'appeler la methode addUser de l'objet userMB 
				avec immediate="true" sans passer par la validation du formulaire  -->
					<td><h:commandButton id="reset"
							value="#{msg['bouton.efface']}" action="#{voitureMB.reset}"
							ajax="false" immediate="true" styleClass="btn btn-danger" /></td>
					<!-- Action est d'appeler directement à la page avec immediate="true" 
				sans passer par la validation du formulaire -->
					<td><h:commandButton id="ListVoitures"
							value="#{msg['liste.voiture']}" action="#{voitureMB.initListVoiture}" ajax="false"
							immediate="true" styleClass="btn btn-default" /></td>
				</tr>
			</table>
		</h:form>

	</ui:define>
</ui:composition>

<!-- </h:body> -->
</html>
